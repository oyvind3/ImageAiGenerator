{"ast":null,"code":"import { inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { GalleryComponent } from \"../../ui/gallery/gallery.component\";\nimport { PromptComponent } from \"../../ui/prompt/prompt.component\";\nimport { BehaviorSubject, of, switchMap } from 'rxjs';\nimport { WineGeneratorService } from 'src/app/data-access/wine-generator.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction WineGeneratorComponent_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const prompt_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Requesting wines from: \", prompt_r1, \"\");\n  }\n}\nexport class WineGeneratorComponent {\n  constructor() {\n    this.wineGenerator = inject(WineGeneratorService);\n    this.prompt$$ = new BehaviorSubject('');\n    this.prompt$ = this.prompt$$.asObservable();\n    this.wines$ = this.prompt$.pipe(switchMap(value => {\n      if (!value) {\n        return of([]);\n      }\n      return this.wineGenerator.getWines();\n    }));\n  }\n  prompted(value) {\n    this.prompt$$.next(value);\n    console.log(value);\n  }\n}\nWineGeneratorComponent.ɵfac = function WineGeneratorComponent_Factory(t) {\n  return new (t || WineGeneratorComponent)();\n};\nWineGeneratorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: WineGeneratorComponent,\n  selectors: [[\"app-wine-generator\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 6,\n  vars: 6,\n  consts: [[3, \"prompted\"], [4, \"ngIf\"], [3, \"wines\"]],\n  template: function WineGeneratorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"app-prompt\", 0);\n      i0.ɵɵlistener(\"prompted\", function WineGeneratorComponent_Template_app_prompt_prompted_1_listener($event) {\n        return ctx.prompted($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, WineGeneratorComponent_p_2_Template, 2, 1, \"p\", 1);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵelement(4, \"app-gallery\", 2);\n      i0.ɵɵpipe(5, \"async\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 2, ctx.prompt$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"wines\", i0.ɵɵpipeBind1(5, 4, ctx.wines$));\n    }\n  },\n  dependencies: [CommonModule, i1.NgIf, i1.AsyncPipe, GalleryComponent, PromptComponent],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AAAA,SAAoBA,MAAM,QAAQ,eAAe;AACjD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,gBAAgB,QAAQ,oCAAoC;AACrE,SAASC,eAAe,QAAQ,kCAAkC;AAClE,SAASC,eAAe,EAAEC,EAAE,EAAEC,SAAS,QAAQ,MAAM;AACrD,SAASC,oBAAoB,QAAQ,4CAA4C;;;;;IAQ/EC,yBAAqC;IAAAA,YAAmC;IAAAA,iBAAI;;;;IAAvCA,eAAmC;IAAnCA,+DAAmC;;;AAU1E,OAAM,MAAOC,sBAAsB;EAhBnCC;IAkBmB,kBAAa,GAAGV,MAAM,CAACO,oBAAoB,CAAC;IAE5C,aAAQ,GAAG,IAAIH,eAAe,CAAS,EAAE,CAAC;IAC3C,YAAO,GAAG,IAAI,CAACO,QAAQ,CAACC,YAAY,EAAE;IAEtC,WAAM,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI,CACxCR,SAAS,CAAES,KAAK,IAAI;MAClB,IAAI,CAACA,KAAK,EAAE;QACV,OAAOV,EAAE,CAAE,EAAE,CAAC;;MAGhB,OAAO,IAAI,CAACW,aAAa,CAACC,QAAQ,EAAE;IACtC,CAAC,CAAC,CACH;;EAEMC,QAAQ,CAACH,KAAa;IAC3B,IAAI,CAACJ,QAAQ,CAACQ,IAAI,CAACJ,KAAK,CAAC;IACzBK,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;EACpB;;AApBWN,sBAAsB;mBAAtBA,sBAAsB;AAAA;AAAtBA,sBAAsB;QAAtBA,sBAAsB;EAAAa;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MAZnCpB,2BAAK;MACSA;QAAA,OAAYqB,oBAAgB;MAAA,EAAC;MAACrB,iBAAa;MACvDA,mEAA4E;;MAE5EA,iCAAoD;;MAEtDA,iBAAM;;;MAJAA,eAAsB;MAAtBA,wDAAsB;MAEbA,eAAwB;MAAxBA,wDAAwB;;;iBAK3BP,YAAY,yBAAEC,gBAAgB,EAAEC,eAAe;EAAA2B;AAAA","names":["inject","CommonModule","GalleryComponent","PromptComponent","BehaviorSubject","of","switchMap","WineGeneratorService","i0","WineGeneratorComponent","constructor","prompt$$","asObservable","prompt$","pipe","value","wineGenerator","getWines","prompted","next","console","log","selectors","standalone","features","decls","vars","consts","template","ctx","encapsulation"],"sourceRoot":"","sources":["C:\\Programmering\\webpage\\oyvind-ai\\src\\app\\components\\smart\\wine-generator\\wine-generator.component.ts"],"sourcesContent":["import { Component, inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { GalleryComponent } from \"../../ui/gallery/gallery.component\";\nimport { PromptComponent } from \"../../ui/prompt/prompt.component\";\nimport { BehaviorSubject, of, switchMap } from 'rxjs';\nimport { WineGeneratorService } from 'src/app/data-access/wine-generator.service';\n\n@Component({\n  selector: 'app-wine-generator',\n  standalone: true,\n  template: `\n<div>\n  <app-prompt (prompted)=\"prompted($event)\"></app-prompt>\n  <p *ngIf=\"prompt$ | async as prompt\">Requesting wines from: {{ prompt }}</p>\n\n  <app-gallery [wines]=\"wines$ | async\"></app-gallery>\n\n</div>\n`,\n  styles: [],\n  imports: [CommonModule, GalleryComponent, PromptComponent]\n})\n\nexport class WineGeneratorComponent {\n\n  private readonly wineGenerator = inject(WineGeneratorService)\n\n  private readonly prompt$$ = new BehaviorSubject<string>('');\n  public readonly prompt$ = this.prompt$$.asObservable();\n\n  public readonly wines$ = this.prompt$.pipe(\n    switchMap((value) => {\n      if (!value) {\n        return of ([]);\n      }\n      \n      return this.wineGenerator.getWines();\n    })\n  ); \n\n  public prompted(value: string): void {\n    this.prompt$$.next(value);\n    console.log(value);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}